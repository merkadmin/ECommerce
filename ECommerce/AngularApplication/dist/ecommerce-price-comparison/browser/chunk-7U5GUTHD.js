import{a as fe,c as V,d as F,g as L,i as he,j as Ce,k as Pe,l as z,m as W,o as be,p as T}from"./chunk-RMXUYGHR.js";import{a as ve}from"./chunk-EA4NPLSX.js";import{a as Me}from"./chunk-LV45KMBR.js";import{a as _e}from"./chunk-G4LST2RF.js";import{c as ue,f as R}from"./chunk-T5PU5KGV.js";import{k as pe,m as de,n as ge,q as me}from"./chunk-OBJUHDOU.js";import{A as Q,Ab as te,Bb as ne,Db as M,Eb as ie,Fb as d,Gb as I,H as Y,Ha as c,Hb as v,Jb as oe,Kb as x,L as $,Lb as O,Mb as w,Pa as b,Qb as re,Rb as ae,Sb as U,Tb as ce,Ua as y,Ub as se,X as m,Y as u,Ya as _,ba as P,d as q,hb as l,ia as J,ib as r,jb as a,kb as h,mc as le,n as G,nc as E,ob as B,oc as S,pb as j,pc as k,sb as f,u as H,ub as g,wb as p,xb as X,y as K,yb as Z,zb as ee}from"./chunk-JX4GBBXQ.js";import{a as N}from"./chunk-TSRGIXR5.js";function Se(i,n){if(i&1&&(r(0,"div",16)(1,"span"),d(2),a()()),i&2){let t=p();c(2),oe("Showing ",t.pagination.from," - ",t.pagination.to," of ",t.pagination.total)}}function ke(i,n){if(i&1&&(r(0,"option",20),d(1),a()),i&2){let t=n.$implicit;l("value",t),c(),v(" ",t," per page ")}}function Te(i,n){if(i&1){let t=f();r(0,"div",17)(1,"select",18),g("change",function(o){m(t);let s=p();return u(s.onPageSizeChange(o))}),_(2,ke,2,2,"option",19),a()()}if(i&2){let t=p();c(),l("value",t.pagination.recordPerPage),c(),l("ngForOf",t.pageSizeOptions)}}function Ee(i,n){i&1&&(r(0,"span",23),d(1,"..."),a())}function Ve(i,n){if(i&1){let t=f();B(0),r(1,"button",21),g("click",function(){m(t);let o=p();return u(o.goToPage(1))}),d(2,"1"),a(),_(3,Ee,2,0,"span",22),j()}if(i&2){let t=p();c(3),l("ngIf",t.pagination.list[0]>2)}}function Fe(i,n){if(i&1){let t=f();r(0,"button",21),g("click",function(){let o=m(t).$implicit,s=p();return u(s.goToPage(o))}),d(1),a()}if(i&2){let t=n.$implicit,e=p();M("active",t===e.pagination.currentPage),c(),v(" ",t," ")}}function Le(i,n){i&1&&(r(0,"span",23),d(1,"..."),a())}function ze(i,n){if(i&1){let t=f();B(0),_(1,Le,2,0,"span",22),r(2,"button",21),g("click",function(){m(t);let o=p();return u(o.goToPage(o.pagination.lastPage))}),d(3),a(),j()}if(i&2){let t=p();c(),l("ngIf",t.pagination.list[t.pagination.list.length-1]<t.pagination.lastPage-1),c(2),v(" ",t.pagination.lastPage," ")}}var D=class i{total=0;recordPerPage=20;page=1;pageSizeOptions=[10,20,50,100];showPageSizeSelector=!0;showPageInfo=!0;changePagination=new P;pagination={currentPage:1,lastPage:1,recordPerPage:20,total:0,list:[],from:0,to:0};ngOnChanges(n){(n.total||n.recordPerPage||n.page)&&this.calculatePagination()}calculatePagination(){this.pagination.total=this.total,this.pagination.recordPerPage=this.recordPerPage,this.pagination.currentPage=this.page,this.pagination.lastPage=Math.ceil(this.total/this.recordPerPage)||1,this.pagination.from=this.total>0?(this.page-1)*this.recordPerPage+1:0,this.pagination.to=Math.min(this.page*this.recordPerPage,this.total),this.generatePageList()}generatePageList(){let n=[],t=this.pagination.currentPage,e=this.pagination.lastPage,o=Math.max(1,t-2),s=Math.min(e,t+2);t<=2&&(s=Math.min(5,e)),t>=e-1&&(o=Math.max(1,e-4));for(let C=o;C<=s;C++)n.push(C);this.pagination.list=n}change(n,t){let e=this.pagination.currentPage;switch(n){case"first":e=1;break;case"previous":e=Math.max(1,this.pagination.currentPage-1);break;case"next":e=Math.min(this.pagination.lastPage,this.pagination.currentPage+1);break;case"last":e=this.pagination.lastPage;break}t!==void 0&&(e=t),e!==this.pagination.currentPage&&(this.pagination.currentPage=e,this.calculatePagination(),this.changePagination.emit(N({},this.pagination)))}goToPage(n){n>=1&&n<=this.pagination.lastPage&&n!==this.pagination.currentPage&&this.change("first",n)}onPageSizeChange(n){let t=n.target,e=parseInt(t.value,10);this.pagination.recordPerPage=e,this.pagination.currentPage=1,this.calculatePagination(),this.changePagination.emit(N({},this.pagination))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=y({type:i,selectors:[["app-pagination"]],inputs:{total:"total",recordPerPage:"recordPerPage",page:"page",pageSizeOptions:"pageSizeOptions",showPageSizeSelector:"showPageSizeSelector",showPageInfo:"showPageInfo"},outputs:{changePagination:"changePagination"},features:[J],decls:17,vars:9,consts:[[1,"pagination-container","d-flex","align-items-center","justify-content-between"],["class","pagination-info",4,"ngIf"],[1,"pagination-controls","d-flex","align-items-center","gap-2"],["class","page-size-selector",4,"ngIf"],[1,"pagination-nav","d-flex","align-items-center","gap-1"],["title","First page",1,"btn","btn-pagination",3,"click","disabled"],[1,"icon-chevrons-left"],["title","Previous page",1,"btn","btn-pagination",3,"click","disabled"],[1,"icon-chevron-left"],[1,"page-numbers","d-flex","align-items-center","gap-1"],[4,"ngIf"],["class","btn btn-pagination",3,"active","click",4,"ngFor","ngForOf"],["title","Next page",1,"btn","btn-pagination",3,"click","disabled"],[1,"icon-chevron-right"],["title","Last page",1,"btn","btn-pagination",3,"click","disabled"],[1,"icon-chevrons-right"],[1,"pagination-info"],[1,"page-size-selector"],[1,"form-select","form-select-sm",3,"change","value"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"btn","btn-pagination",3,"click"],["class","pagination-ellipsis",4,"ngIf"],[1,"pagination-ellipsis"]],template:function(t,e){t&1&&(r(0,"div",0),_(1,Se,3,3,"div",1),r(2,"div",2),_(3,Te,3,2,"div",3),r(4,"div",4)(5,"button",5),g("click",function(){return e.change("first")}),h(6,"i",6),a(),r(7,"button",7),g("click",function(){return e.change("previous")}),h(8,"i",8),a(),r(9,"div",9),_(10,Ve,4,1,"ng-container",10)(11,Fe,2,3,"button",11)(12,ze,4,2,"ng-container",10),a(),r(13,"button",12),g("click",function(){return e.change("next")}),h(14,"i",13),a(),r(15,"button",14),g("click",function(){return e.change("last")}),h(16,"i",15),a()()()()),t&2&&(c(),l("ngIf",e.showPageInfo&&e.total>0),c(2),l("ngIf",e.showPageSizeSelector),c(2),l("disabled",e.pagination.currentPage===1),c(2),l("disabled",e.pagination.currentPage===1),c(3),l("ngIf",e.pagination.list[0]>1),c(),l("ngForOf",e.pagination.list),c(),l("ngIf",e.pagination.list[e.pagination.list.length-1]<e.pagination.lastPage),c(),l("disabled",e.pagination.currentPage===e.pagination.lastPage),c(2),l("disabled",e.pagination.currentPage===e.pagination.lastPage))},dependencies:[k,E,S,T,z,W],styles:['.pagination-container[_ngcontent-%COMP%]{padding:1rem 0;flex-wrap:wrap;gap:1rem}.pagination-info[_ngcontent-%COMP%]{color:#6c757d;font-size:.875rem}.pagination-controls[_ngcontent-%COMP%]{flex-wrap:wrap}.page-size-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{width:auto;min-width:120px;border-radius:20px;padding:.375rem 2rem .375rem 1rem;border-color:#ddd;font-size:.875rem}.page-size-selector[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#1176bd;box-shadow:0 0 0 .2rem #1176bd40}.pagination-nav[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]{width:36px;height:36px;padding:0;display:flex;align-items:center;justify-content:center;border:1px solid #ddd;background:#fff;color:#555;border-radius:50%;font-size:.875rem;transition:all .2s ease}.pagination-nav[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:hover:not(:disabled):not(.active){background:#1176bd1a;border-color:#1176bd;color:#1176bd}.pagination-nav[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.pagination-nav[_ngcontent-%COMP%]   .btn-pagination.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1176bd,#11b7bd);border-color:transparent;color:#fff}.pagination-nav[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.page-numbers[_ngcontent-%COMP%]   .btn-pagination[_ngcontent-%COMP%]{min-width:36px;padding:0 .5rem}.pagination-ellipsis[_ngcontent-%COMP%]{color:#6c757d;padding:0 .25rem}[dir=rtl][_ngcontent-%COMP%]   .icon-chevron-left[_ngcontent-%COMP%]:before{content:"\\e901"}[dir=rtl][_ngcontent-%COMP%]   .icon-chevron-right[_ngcontent-%COMP%]:before{content:"\\e900"}[dir=rtl][_ngcontent-%COMP%]   .icon-chevrons-left[_ngcontent-%COMP%]:before{content:"\\e903"}[dir=rtl][_ngcontent-%COMP%]   .icon-chevrons-right[_ngcontent-%COMP%]:before{content:"\\e902"}'],changeDetection:0})};var Re=["crInput"],De=[[["","crInputIcon",""]]],Ae=["[crInputIcon]"],Ne=(i,n,t)=>({"with-icon":i,"is-invalid":n,"with-clear":t});function Be(i,n){i&1&&(r(0,"span",7),Z(1),a())}function je(i,n){i&1&&(r(0,"span",8),h(1,"i",9),a())}function Ue(i,n){if(i&1){let t=f();r(0,"button",10),g("click",function(){m(t);let o=p();return u(o.clear())}),h(1,"i",11),a()}}var A=class i{constructor(n){this.fixedService=n}crInput;placeholder="";inputClass="";hasClearBtn=!0;hasInputIcon=!1;isInvalid=!1;loading=!1;disabled=!1;type="text";maxLength=null;debounceMs=null;keypress=new P;onClear=new P;inputObserverWithTimeDelay=new P;valueChange=new P;onEnter=new P;value="";destroy$=new q;onChange=()=>{};onTouched=()=>{};ngAfterViewInit(){let n=this.debounceMs??this.fixedService.waitingTimeForInstanceSearch,t=H(this.crInput.nativeElement,"input").pipe(G(e=>e.target.value),K(n),Q(),Y(this.destroy$));this.inputObserverWithTimeDelay.emit(t)}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}writeValue(n){this.value=n||""}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setDisabledState(n){this.disabled=n}onInputChange(){this.onChange(this.value),this.valueChange.emit(this.value)}onKeypress(n){this.keypress.emit(n),n.key==="Enter"&&this.onEnter.emit(this.value)}onBlur(){this.onTouched()}clear(){this.value="",this.onChange(this.value),this.valueChange.emit(this.value),this.onClear.emit(),this.crInput?.nativeElement?.focus()}focus(){this.crInput?.nativeElement?.focus()}static \u0275fac=function(t){return new(t||i)(b(R))};static \u0275cmp=y({type:i,selectors:[["app-cr-input"]],viewQuery:function(t,e){if(t&1&&ee(Re,5),t&2){let o;te(o=ne())&&(e.crInput=o.first)}},inputs:{placeholder:"placeholder",inputClass:"inputClass",hasClearBtn:"hasClearBtn",hasInputIcon:"hasInputIcon",isInvalid:"isInvalid",loading:"loading",disabled:"disabled",type:"type",maxLength:"maxLength",debounceMs:"debounceMs"},outputs:{keypress:"keypress",onClear:"onClear",inputObserverWithTimeDelay:"inputObserverWithTimeDelay",valueChange:"valueChange",onEnter:"onEnter"},features:[ae([{provide:fe,useExisting:$(()=>i),multi:!0}])],ngContentSelectors:Ae,decls:7,vars:16,consts:[["crInput",""],[1,"cr-input_container","w-100","position-relative","d-flex"],["class","cr-input_icon",4,"ngIf"],[3,"ngModelChange","keypress","blur","type","ngClass","placeholder","ngModel","disabled","maxlength"],[1,"cr-input_actions"],["class","cr-input_spinner",4,"ngIf"],["type","button","class","cr-input_clear","title","Clear",3,"click",4,"ngIf"],[1,"cr-input_icon"],[1,"cr-input_spinner"],[1,"icon-spinner","animation-rotate"],["type","button","title","Clear",1,"cr-input_clear",3,"click"],[1,"icon-x"]],template:function(t,e){if(t&1){let o=f();X(De),r(0,"div",1),_(1,Be,2,0,"span",2),r(2,"input",3,0),w("ngModelChange",function(C){return m(o),O(e.value,C)||(e.value=C),u(C)}),g("ngModelChange",function(){return m(o),u(e.onInputChange())})("keypress",function(C){return m(o),u(e.onKeypress(C))})("blur",function(){return m(o),u(e.onBlur())}),a(),r(4,"div",4),_(5,je,2,0,"span",5)(6,Ue,2,0,"button",6),a()()}t&2&&(c(),l("ngIf",e.hasInputIcon),c(),ie(re("form-control cr-input_input ",e.inputClass)),l("type",e.type)("ngClass",se(12,Ne,e.hasInputIcon,e.isInvalid,e.hasClearBtn&&e.value))("placeholder",e.placeholder),x("ngModel",e.value),l("disabled",e.disabled)("maxlength",e.maxLength),c(3),l("ngIf",e.loading),c(),l("ngIf",e.hasClearBtn&&e.value&&!e.loading))},dependencies:[k,le,S,T,V,F,be,L],styles:[".cr-input_container[_ngcontent-%COMP%]{max-width:300px}.cr-input_container.free-width[_ngcontent-%COMP%]{max-width:none}.cr-input_input[_ngcontent-%COMP%]{height:40px;border:2px solid #ddd;border-radius:20px;padding:0 3rem 0 1rem;font-size:.9375rem;transition:all .2s ease}.cr-input_input[_ngcontent-%COMP%]:focus{border-color:#1176bdcc;box-shadow:0 0 0 .2rem #1176bd26;outline:none}.cr-input_input.with-icon[_ngcontent-%COMP%]{padding-inline-start:3rem}.cr-input_input.with-clear[_ngcontent-%COMP%]{padding-inline-end:3rem}.cr-input_input.is-invalid[_ngcontent-%COMP%]{border-color:#dd0a35}.cr-input_input.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #dd0a3526}.cr-input_input[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;cursor:not-allowed;opacity:.7}.cr-input_input[_ngcontent-%COMP%]::placeholder{color:#999}.cr-input_icon[_ngcontent-%COMP%]{position:absolute;top:50%;inset-inline-start:1rem;transform:translateY(-50%);color:#909090;display:flex;align-items:center;justify-content:center;pointer-events:none;z-index:1}.cr-input_icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .cr-input_icon[_ngcontent-%COMP%]     i{font-size:1.125rem}.cr-input_actions[_ngcontent-%COMP%]{position:absolute;top:50%;inset-inline-end:.75rem;transform:translateY(-50%);display:flex;align-items:center;gap:.5rem}.cr-input_spinner[_ngcontent-%COMP%]{color:#1176bd}.cr-input_spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.cr-input_clear[_ngcontent-%COMP%]{width:24px;height:24px;padding:0;border:none;background:#e8ebf1;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;color:#555}.cr-input_clear[_ngcontent-%COMP%]:hover{background:#dd0a35;color:#fff}.cr-input_clear[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.cr-input_input[_ngcontent-%COMP%]:focus ~ .cr-input_icon[_ngcontent-%COMP%]     *{color:#1176bd}.animation-rotate[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_rotate 1s linear infinite}@keyframes _ngcontent-%COMP%_rotate{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var qe=()=>["/products/compare"],Ge=i=>({ids:i}),He=()=>[1,2,3,4,5,6,7,8];function Ke(i,n){if(i&1){let t=f();r(0,"button",40),g("click",function(){m(t);let o=p();return u(o.clearFilters())}),d(1," Clear all "),a()}}function Qe(i,n){if(i&1){let t=f();r(0,"li")(1,"label",41)(2,"input",42),w("ngModelChange",function(o){m(t);let s=p();return O(s.filter.categoryId,o)||(s.filter.categoryId=o),u(o)}),g("change",function(){m(t);let o=p();return u(o.onFilterChange())}),a(),r(3,"span",43),d(4),a(),r(5,"span",44),d(6),a()()()}if(i&2){let t=n.$implicit,e=p();c(2),l("value",t.id),x("ngModel",e.filter.categoryId),c(2),I(t.name),c(2),I(t.productCount)}}function Ye(i,n){if(i&1){let t=f();r(0,"li")(1,"label",41)(2,"input",45),g("change",function(){let o=m(t).$implicit,s=p();return u(s.onPriceRangeSelect(o))}),a(),r(3,"span",43),d(4),a()()()}if(i&2){let t=n.$implicit;c(2),l("value",t),c(2),I(t.label)}}function $e(i,n){if(i&1){let t=f();r(0,"li")(1,"label",41)(2,"input",46),g("change",function(){m(t);let o=p();return u(o.onFilterChange())}),a(),r(3,"span",43),d(4),a(),r(5,"span",44),d(6),a()()()}if(i&2){let t=n.$implicit,e=p();c(2),l("value",t.id)("checked",e.filter.retailerIds==null?null:e.filter.retailerIds.includes(t.id)),c(2),I(t.name),c(2),I(t.productCount)}}function Je(i,n){if(i&1&&(r(0,"span"),d(1),a()),i&2){let t=p();c(),v("",t.totalProducts," products found")}}function Xe(i,n){i&1&&(r(0,"span"),d(1,"Loading..."),a())}function Ze(i,n){if(i&1&&(r(0,"option",47),d(1),a()),i&2){let t=n.$implicit;l("value",t.value),c(),v(" ",t.label," ")}}function et(i,n){if(i&1){let t=f();r(0,"div",48)(1,"span"),d(2),a(),r(3,"button",49),d(4," Compare Now "),a(),r(5,"button",50),g("click",function(){m(t);let o=p();return u(o.compareIds.clear())}),d(6,"Clear"),a()()}if(i&2){let t=p();c(2),v("",t.compareIds.size," product(s) selected for comparison"),c(),l("routerLink",U(3,qe))("queryParams",ce(4,Ge,t.getCompareIds()))}}function tt(i,n){i&1&&h(0,"div",54)}function nt(i,n){i&1&&(r(0,"div",51)(1,"div",52),_(2,tt,1,0,"div",53),a()()),i&2&&(c(2),l("ngForOf",U(1,He)))}function it(i,n){if(i&1){let t=f();r(0,"app-product-card",57),g("addToWishlist",function(o){m(t);let s=p(2);return u(s.onAddToWishlist(o))})("removeFromWishlist",function(o){m(t);let s=p(2);return u(s.onRemoveFromWishlist(o))})("addToCompare",function(o){m(t);let s=p(2);return u(s.onAddToCompare(o))})("removeFromCompare",function(o){m(t);let s=p(2);return u(s.onRemoveFromCompare(o))})("setAlert",function(o){m(t);let s=p(2);return u(s.onSetAlert(o))})("viewDetails",function(o){m(t);let s=p(2);return u(s.onViewDetails(o))}),a()}if(i&2){let t=n.$implicit,e=p(2);l("product",t)("isInWishlist",e.isInWishlist(t.id))("isInCompare",e.isInCompare(t.id))}}function ot(i,n){if(i&1&&(r(0,"div",55),_(1,it,1,3,"app-product-card",56),a()),i&2){let t=p();M("list-view",t.viewMode==="list"),c(),l("ngForOf",t.products)}}function rt(i,n){if(i&1){let t=f();r(0,"div",58),h(1,"i",59),r(2,"h3"),d(3,"No products found"),a(),r(4,"p"),d(5,"Try adjusting your search or filter criteria"),a(),r(6,"button",60),g("click",function(){m(t);let o=p();return u(o.clearFilters())}),d(7,"Clear Filters"),a()()}}function at(i,n){if(i&1){let t=f();r(0,"app-pagination",61),g("changePagination",function(o){m(t);let s=p();return u(s.onPaginationChange(o))}),a()}if(i&2){let t=p();l("total",t.totalProducts)("page",t.filter.page)("recordPerPage",t.filter.pageSize)}}var Ie=class i{constructor(n,t,e,o,s){this.productService=n;this.globalService=t;this.fixedService=e;this.route=o;this.router=s}subs=new _e;products=[];totalProducts=0;isLoading=!1;viewMode="grid";filter={search:"",categoryId:void 0,retailerIds:[],minPrice:void 0,maxPrice:void 0,sortBy:"newest",page:1,pageSize:20};categories=[];retailers=[];sortOptions=[];priceRanges=[];showFilters=!0;wishlistIds=new Set;compareIds=new Set;ngOnInit(){this.sortOptions=this.fixedService.productSortOptions,this.priceRanges=this.fixedService.priceRanges,this.subs.sink=this.route.queryParams.subscribe(n=>{n.search&&(this.filter.search=n.search),n.category&&(this.filter.categoryId=n.category),this.loadProducts()}),this.loadCategories(),this.loadRetailers()}ngOnDestroy(){this.subs.unsubscribe()}loadProducts(){this.isLoading=!0,this.subs.sink=this.productService.getProducts(this.filter).subscribe({next:n=>{this.products=n.items,this.totalProducts=n.total,this.isLoading=!1},error:n=>{this.globalService.notificationMessage("error","Failed to load products"),this.isLoading=!1}})}loadCategories(){}loadRetailers(){}onSearchSetup(n){this.subs.sink=n.subscribe(t=>{this.filter.search=t,this.filter.page=1,this.loadProducts(),this.updateUrl()})}onSearchClear(){this.filter.search="",this.filter.page=1,this.loadProducts(),this.updateUrl()}onFilterChange(){this.filter.page=1,this.loadProducts(),this.updateUrl()}onSortChange(n){this.filter.sortBy=n,this.loadProducts()}onPaginationChange(n){this.filter.page=n.currentPage,this.filter.pageSize=n.recordPerPage,this.loadProducts()}onPriceRangeSelect(n){this.filter.minPrice=n.min,this.filter.maxPrice=n.max??void 0,this.onFilterChange()}clearFilters(){this.filter={search:"",categoryId:void 0,retailerIds:[],minPrice:void 0,maxPrice:void 0,sortBy:"newest",page:1,pageSize:20},this.loadProducts(),this.updateUrl()}toggleViewMode(){this.viewMode=this.viewMode==="grid"?"list":"grid"}toggleFilters(){this.showFilters=!this.showFilters}onAddToWishlist(n){this.wishlistIds.add(n.id),this.globalService.notificationMessage("success","Added to wishlist")}onRemoveFromWishlist(n){this.wishlistIds.delete(n.id),this.globalService.notificationMessage("info","Removed from wishlist")}onAddToCompare(n){if(this.compareIds.size>=4){this.globalService.notificationMessage("warning","You can compare up to 4 products");return}this.compareIds.add(n.id),this.globalService.notificationMessage("success","Added to compare")}onRemoveFromCompare(n){this.compareIds.delete(n.id),this.globalService.notificationMessage("info","Removed from compare")}onSetAlert(n){this.globalService.notificationMessage("info","Price alert feature coming soon")}onViewDetails(n){this.router.navigate(["/products",n.id])}isInWishlist(n){return this.wishlistIds.has(n)}isInCompare(n){return this.compareIds.has(n)}getCompareIds(){return Array.from(this.compareIds).join(",")}updateUrl(){let n={};this.filter.search&&(n.search=this.filter.search),this.filter.categoryId&&(n.category=this.filter.categoryId),this.router.navigate([],{relativeTo:this.route,queryParams:n,queryParamsHandling:"merge"})}static \u0275fac=function(t){return new(t||i)(b(Me),b(ue),b(R),b(pe),b(de))};static \u0275cmp=y({type:i,selectors:[["app-product-list"]],decls:60,vars:23,consts:[[1,"product-list-page"],[1,"page-header"],[1,"header-content"],[1,"page-title"],[1,"page-subtitle"],[1,"header-actions"],["placeholder","Search products...",1,"header-search",3,"inputObserverWithTimeDelay","onClear","hasClearBtn","hasInputIcon"],["crInputIcon","",1,"icon-search"],[1,"view-toggle"],["title","Grid view",1,"toggle-btn",3,"click"],[1,"icon-grid"],["title","List view",1,"toggle-btn",3,"click"],[1,"icon-list"],[1,"filter-toggle-btn",3,"click"],[1,"icon-filter"],[1,"page-content"],[1,"filters-sidebar"],[1,"filters-header"],["class","clear-filters",3,"click",4,"ngIf"],[1,"filter-section"],[1,"filter-title"],[1,"filter-list"],[4,"ngFor","ngForOf"],[1,"custom-price-range"],["type","number","placeholder","Min",1,"price-input",3,"ngModelChange","change","ngModel"],[1,"price-separator"],["type","number","placeholder","Max",1,"price-input",3,"ngModelChange","change","ngModel"],[1,"products-container"],[1,"products-toolbar"],[1,"results-count"],[4,"ngIf"],[1,"toolbar-actions"],[1,"sort-select"],[3,"ngModelChange","change","ngModel"],[3,"value",4,"ngFor","ngForOf"],["class","compare-bar",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","products-grid",3,"list-view",4,"ngIf"],["class","empty-state",4,"ngIf"],[3,"total","page","recordPerPage","changePagination",4,"ngIf"],[1,"clear-filters",3,"click"],[1,"filter-checkbox"],["type","radio","name","category",3,"ngModelChange","change","value","ngModel"],[1,"checkbox-label"],[1,"filter-count"],["type","radio","name","priceRange",3,"change","value"],["type","checkbox",3,"change","value","checked"],[3,"value"],[1,"compare-bar"],[1,"btn","btn-primary",3,"routerLink","queryParams"],[1,"btn","btn-ghost",3,"click"],[1,"loading-state"],[1,"skeleton-grid"],["class","skeleton-card",4,"ngFor","ngForOf"],[1,"skeleton-card"],[1,"products-grid"],[3,"product","isInWishlist","isInCompare","addToWishlist","removeFromWishlist","addToCompare","removeFromCompare","setAlert","viewDetails",4,"ngFor","ngForOf"],[3,"addToWishlist","removeFromWishlist","addToCompare","removeFromCompare","setAlert","viewDetails","product","isInWishlist","isInCompare"],[1,"empty-state"],[1,"icon-search-off"],[1,"btn","btn-primary",3,"click"],[3,"changePagination","total","page","recordPerPage"]],template:function(t,e){t&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),d(4,"Products"),a(),r(5,"p",4),d(6,"Compare prices across retailers and find the best deals"),a()(),r(7,"div",5)(8,"app-cr-input",6),g("inputObserverWithTimeDelay",function(s){return e.onSearchSetup(s)})("onClear",function(){return e.onSearchClear()}),h(9,"i",7),a(),r(10,"div",8)(11,"button",9),g("click",function(){return e.viewMode="grid"}),h(12,"i",10),a(),r(13,"button",11),g("click",function(){return e.viewMode="list"}),h(14,"i",12),a()(),r(15,"button",13),g("click",function(){return e.toggleFilters()}),h(16,"i",14),d(17," Filters "),a()()(),r(18,"div",15)(19,"aside",16)(20,"div",17)(21,"h3"),d(22,"Filters"),a(),_(23,Ke,2,0,"button",18),a(),r(24,"div",19)(25,"h4",20),d(26,"Category"),a(),r(27,"ul",21),_(28,Qe,7,4,"li",22),a()(),r(29,"div",19)(30,"h4",20),d(31,"Price Range"),a(),r(32,"ul",21),_(33,Ye,5,2,"li",22),a(),r(34,"div",23)(35,"input",24),w("ngModelChange",function(s){return O(e.filter.minPrice,s)||(e.filter.minPrice=s),s}),g("change",function(){return e.onFilterChange()}),a(),r(36,"span",25),d(37,"-"),a(),r(38,"input",26),w("ngModelChange",function(s){return O(e.filter.maxPrice,s)||(e.filter.maxPrice=s),s}),g("change",function(){return e.onFilterChange()}),a()()(),r(39,"div",19)(40,"h4",20),d(41,"Retailers"),a(),r(42,"ul",21),_(43,$e,7,4,"li",22),a()()(),r(44,"div",27)(45,"div",28)(46,"div",29),_(47,Je,2,1,"span",30)(48,Xe,2,0,"span",30),a(),r(49,"div",31)(50,"div",32)(51,"label"),d(52,"Sort by:"),a(),r(53,"select",33),w("ngModelChange",function(s){return O(e.filter.sortBy,s)||(e.filter.sortBy=s),s}),g("change",function(){return e.onSortChange(e.filter.sortBy)}),_(54,Ze,2,2,"option",34),a()()()(),_(55,et,7,6,"div",35)(56,nt,3,2,"div",36)(57,ot,2,3,"div",37)(58,rt,8,0,"div",38)(59,at,1,3,"app-pagination",39),a()()()),t&2&&(c(8),l("hasClearBtn",!0)("hasInputIcon",!0),c(3),M("active",e.viewMode==="grid"),c(2),M("active",e.viewMode==="list"),c(6),M("show",e.showFilters),c(4),l("ngIf",e.filter.categoryId||e.filter.minPrice||(e.filter.retailerIds==null?null:e.filter.retailerIds.length)),c(5),l("ngForOf",e.categories),c(5),l("ngForOf",e.priceRanges),c(2),x("ngModel",e.filter.minPrice),c(3),x("ngModel",e.filter.maxPrice),c(5),l("ngForOf",e.retailers),c(4),l("ngIf",!e.isLoading),c(),l("ngIf",e.isLoading),c(5),x("ngModel",e.filter.sortBy),c(),l("ngForOf",e.sortOptions),c(),l("ngIf",e.compareIds.size>0),c(),l("ngIf",e.isLoading),c(),l("ngIf",!e.isLoading&&e.products.length>0),c(),l("ngIf",!e.isLoading&&e.products.length===0),c(),l("ngIf",e.totalProducts>e.filter.pageSize))},dependencies:[k,E,S,T,z,W,V,he,Pe,Ce,F,L,me,ge,ve,D,A],styles:[".product-list-page[_ngcontent-%COMP%]{min-height:100%}.page-header[_ngcontent-%COMP%]{display:flex;align-items:flex-start;justify-content:space-between;gap:2rem;margin-bottom:2rem;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{flex:1;min-width:200px}.page-header[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#333;margin:0 0 .5rem}.page-header[_ngcontent-%COMP%]   .page-subtitle[_ngcontent-%COMP%]{color:#6c757d;margin:0}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]{width:300px}.view-toggle[_ngcontent-%COMP%]{display:flex;background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #00000014}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]{width:40px;height:40px;border:none;background:transparent;color:#6c757d;cursor:pointer;transition:all .2s ease}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]:hover{background:#f8f9fa;color:#1176bd}.view-toggle[_ngcontent-%COMP%]   .toggle-btn.active[_ngcontent-%COMP%]{background:#1176bd;color:#fff}.view-toggle[_ngcontent-%COMP%]   .toggle-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.125rem}.filter-toggle-btn[_ngcontent-%COMP%]{display:none;align-items:center;gap:.5rem;padding:.5rem 1rem;background:#fff;border:1px solid #ddd;border-radius:8px;color:#333;cursor:pointer}.filter-toggle-btn[_ngcontent-%COMP%]:hover{border-color:#1176bd;color:#1176bd}.page-content[_ngcontent-%COMP%]{display:flex;gap:2rem}.filters-sidebar[_ngcontent-%COMP%]{width:260px;flex-shrink:0;background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #00000014;height:fit-content;position:sticky;top:90px}.filters-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:1px solid #e9ecef}.filters-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin:0;font-size:1.125rem;font-weight:600}.filters-header[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]{background:none;border:none;color:#1176bd;font-size:.8125rem;cursor:pointer}.filters-header[_ngcontent-%COMP%]   .clear-filters[_ngcontent-%COMP%]:hover{text-decoration:underline}.filter-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.filter-section[_ngcontent-%COMP%]:last-child{margin-bottom:0}.filter-title[_ngcontent-%COMP%]{font-size:.9375rem;font-weight:600;color:#333;margin:0 0 .75rem}.filter-list[_ngcontent-%COMP%]{list-style:none;margin:0;padding:0}.filter-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}.filter-checkbox[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;cursor:pointer}.filter-checkbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{accent-color:#1176bd}.filter-checkbox[_ngcontent-%COMP%]   .checkbox-label[_ngcontent-%COMP%]{flex:1;font-size:.875rem;color:#555}.filter-checkbox[_ngcontent-%COMP%]   .filter-count[_ngcontent-%COMP%]{font-size:.75rem;color:#909090}.custom-price-range[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;margin-top:1rem}.custom-price-range[_ngcontent-%COMP%]   .price-input[_ngcontent-%COMP%]{flex:1;height:36px;padding:0 .75rem;border:1px solid #ddd;border-radius:6px;font-size:.875rem}.custom-price-range[_ngcontent-%COMP%]   .price-input[_ngcontent-%COMP%]:focus{border-color:#1176bd;outline:none}.custom-price-range[_ngcontent-%COMP%]   .price-separator[_ngcontent-%COMP%]{color:#909090}.products-container[_ngcontent-%COMP%]{flex:1;min-width:0}.products-toolbar[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:1.5rem;flex-wrap:wrap;gap:1rem}.products-toolbar[_ngcontent-%COMP%]   .results-count[_ngcontent-%COMP%]{color:#6c757d;font-size:.9375rem}.products-toolbar[_ngcontent-%COMP%]   .toolbar-actions[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.products-toolbar[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.products-toolbar[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.products-toolbar[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:36px;padding:0 2rem 0 .75rem;border:1px solid #ddd;border-radius:6px;font-size:.875rem;background:#fff;cursor:pointer}.products-toolbar[_ngcontent-%COMP%]   .sort-select[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]:focus{border-color:#1176bd;outline:none}.compare-bar[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;padding:1rem 1.5rem;background:linear-gradient(135deg,#1176bd1a,#11b7bd1a);border:1px solid rgba(17,118,189,.2);border-radius:8px;margin-bottom:1.5rem}.compare-bar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{flex:1;font-weight:500;color:#1176bd}.compare-bar[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:6px;font-size:.875rem;font-weight:500;cursor:pointer;transition:all .2s ease}.compare-bar[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#1176bd,#11b7bd);color:#fff;border:none}.compare-bar[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}.compare-bar[_ngcontent-%COMP%]   .btn.btn-ghost[_ngcontent-%COMP%]{background:transparent;border:1px solid #ddd;color:#6c757d}.compare-bar[_ngcontent-%COMP%]   .btn.btn-ghost[_ngcontent-%COMP%]:hover{border-color:#1176bd;color:#1176bd}.products-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.products-grid.list-view[_ngcontent-%COMP%]{grid-template-columns:1fr}.products-grid.list-view[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]     .product-card{flex-direction:row;height:auto}.products-grid.list-view[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]     .product-card .product-card_image{width:200px;min-width:200px;height:150px}.products-grid.list-view[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]     .product-card .product-card_info{flex:1}.products-grid.list-view[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]     .product-card .product-card_footer{display:flex;align-items:center;padding:1rem}.products-grid.list-view[_ngcontent-%COMP%]   app-product-card[_ngcontent-%COMP%]     .product-card .product-card_footer .btn-compare{width:auto}.loading-state[_ngcontent-%COMP%]   .skeleton-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:1.5rem}.loading-state[_ngcontent-%COMP%]   .skeleton-card[_ngcontent-%COMP%]{height:350px;background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_shimmer 1.5s infinite;border-radius:12px}@keyframes _ngcontent-%COMP%_shimmer{0%{background-position:200% 0}to{background-position:-200% 0}}.empty-state[_ngcontent-%COMP%]{text-align:center;padding:4rem 2rem;background:#fff;border-radius:12px}.empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:4rem;color:#ddd;margin-bottom:1.5rem}.empty-state[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:600;color:#333;margin:0 0 .5rem}.empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin:0 0 1.5rem}.empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;background:linear-gradient(135deg,#1176bd,#11b7bd);color:#fff;border:none;border-radius:8px;font-weight:500;cursor:pointer}.empty-state[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{filter:brightness(1.1)}@media(max-width:992px){.filters-sidebar[_ngcontent-%COMP%]{position:fixed;top:0;left:-280px;width:280px;height:100vh;z-index:1001;border-radius:0;transition:left .3s ease;overflow-y:auto}.filters-sidebar.show[_ngcontent-%COMP%]{left:0}.filter-toggle-btn[_ngcontent-%COMP%]{display:flex}.page-content[_ngcontent-%COMP%]{flex-direction:column}}@media(max-width:768px){.page-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.page-header[_ngcontent-%COMP%]   .header-actions[_ngcontent-%COMP%]{width:100%;flex-wrap:wrap}.page-header[_ngcontent-%COMP%]   .header-search[_ngcontent-%COMP%]{width:100%;order:3}.products-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(240px,1fr));gap:1rem}}"]})};export{Ie as ProductListComponent};
